{"ast":null,"code":"import _defineProperty from\"/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{fetchRoutinesByUser}from'../api';import{MyRoutinesForm,MyRoutinesItem}from'./index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MyRoutines=function MyRoutines(_ref){var currentUser=_ref.currentUser;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),myRoutinesList=_useState2[0],setMyRoutinesList=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),errorMessage=_useState4[0],setErrorMessage=_useState4[1];var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var results;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetchRoutinesByUser(currentUser.username);case 3:results=_context.sent;setMyRoutinesList(results);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();function checkRoutineList(name){var myRoutinesListLowercase=myRoutinesList.map(function(routine){var routineName=routine.name.toLowerCase();return routineName;});var nameLowercase=name.toLowerCase();return myRoutinesListLowercase.includes(nameLowercase);}useEffect(function(){fetchData();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{id:\"my-routines\",children:[/*#__PURE__*/_jsx(MyRoutinesForm,{fetchData:fetchData,myRoutinesList:myRoutinesList,errorMessage:errorMessage,setErrorMessage:setErrorMessage,checkRoutineList:checkRoutineList}),/*#__PURE__*/_jsx(\"h2\",{children:\"My Routines:\"}),/*#__PURE__*/_jsx(\"ul\",{children:myRoutinesList.length>0&&myRoutinesList.map(function(routine){return/*#__PURE__*/_jsx(MyRoutinesItem,_objectSpread(_defineProperty({fetchData:fetchData,checkRoutineList:checkRoutineList,errorMessage:errorMessage,setErrorMessage:setErrorMessage},\"checkRoutineList\",checkRoutineList),routine),routine.id);})})]})});};export default MyRoutines;","map":{"version":3,"sources":["/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/src/components/MyRoutines.jsx"],"names":["React","useState","useEffect","fetchRoutinesByUser","MyRoutinesForm","MyRoutinesItem","MyRoutines","currentUser","myRoutinesList","setMyRoutinesList","errorMessage","setErrorMessage","fetchData","username","results","console","error","checkRoutineList","name","myRoutinesListLowercase","map","routine","routineName","toLowerCase","nameLowercase","includes","length","id"],"mappings":"u9BAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CAEA,OAAQC,mBAAR,KAAkC,QAAlC,CAEA,OACIC,cADJ,CAEIC,cAFJ,KAGO,SAHP,C,6IAKA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAmB,IAAjBC,CAAAA,WAAiB,MAAjBA,WAAiB,CAClC,cAA4CN,QAAQ,CAAC,EAAD,CAApD,wCAAOO,cAAP,eAAuBC,iBAAvB,eAEA,eAAwCR,QAAQ,CAAC,IAAD,CAAhD,yCAAOS,YAAP,eAAqBC,eAArB,eAEA,GAAMC,CAAAA,SAAS,2FAAG,qLAEYT,CAAAA,mBAAmB,CAACI,WAAW,CAACM,QAAb,CAF/B,QAEJC,OAFI,eAGVL,iBAAiB,CAACK,OAAD,CAAjB,CAHU,+EAKVC,OAAO,CAACC,KAAR,cALU,oEAAH,kBAATJ,CAAAA,SAAS,2CAAf,CASA,QAASK,CAAAA,gBAAT,CAA0BC,IAA1B,CAAgC,CAC5B,GAAMC,CAAAA,uBAAuB,CAAGX,cAAc,CAACY,GAAf,CAAmB,SAACC,OAAD,CAAa,CAC5D,GAAMC,CAAAA,WAAW,CAAGD,OAAO,CAACH,IAAR,CAAaK,WAAb,EAApB,CACA,MAAOD,CAAAA,WAAP,CACH,CAH+B,CAAhC,CAIA,GAAME,CAAAA,aAAa,CAAGN,IAAI,CAACK,WAAL,EAAtB,CACA,MAAOJ,CAAAA,uBAAuB,CAACM,QAAxB,CAAiCD,aAAjC,CAAP,CACH,CAEDtB,SAAS,CAAC,UAAM,CACZU,SAAS,GACZ,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACI,sCACI,aAAK,EAAE,CAAC,aAAR,wBACI,KAAC,cAAD,EACI,SAAS,CAAEA,SADf,CAEI,cAAc,CAAEJ,cAFpB,CAGI,YAAY,CAAEE,YAHlB,CAII,eAAe,CAAEC,eAJrB,CAKI,gBAAgB,CAAEM,gBALtB,EADJ,cAQI,oCARJ,cASI,oBACKT,cAAc,CAACkB,MAAf,CAAwB,CAAxB,EAA6BlB,cAAc,CAACY,GAAf,CAAmB,SAACC,OAAD,CAAa,CAC1D,mBAAO,KAAC,cAAD,gCAEH,SAAS,CAAET,SAFR,CAGH,gBAAgB,CAAEK,gBAHf,CAIH,YAAY,CAAEP,YAJX,CAKH,eAAe,CAAEC,eALd,qBAMeM,gBANf,EAOCI,OAPD,EACEA,OAAO,CAACM,EADV,CAAP,CASH,CAV6B,CADlC,EATJ,GADJ,EADJ,CA2BH,CAtDD,CAwDA,cAAerB,CAAAA,UAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\n\nimport {fetchRoutinesByUser} from '../api';\n\nimport {\n    MyRoutinesForm,\n    MyRoutinesItem\n} from './index';\n\nconst MyRoutines = ({currentUser}) => {\n    const [myRoutinesList, setMyRoutinesList] = useState([]);\n\n    const [errorMessage, setErrorMessage] = useState(null);\n\n    const fetchData = async () => {\n        try {\n            const results = await fetchRoutinesByUser(currentUser.username);\n            setMyRoutinesList(results);\n        } catch (error) {\n            console.error(error);\n        }\n    }\n\n    function checkRoutineList(name) {\n        const myRoutinesListLowercase = myRoutinesList.map((routine) => {\n            const routineName = routine.name.toLowerCase();\n            return routineName;\n        });\n        const nameLowercase = name.toLowerCase();\n        return myRoutinesListLowercase.includes(nameLowercase);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [])\n\n    return (\n        <>\n            <div id='my-routines'>\n                <MyRoutinesForm\n                    fetchData={fetchData}\n                    myRoutinesList={myRoutinesList}\n                    errorMessage={errorMessage}\n                    setErrorMessage={setErrorMessage}\n                    checkRoutineList={checkRoutineList}\n            />\n                <h2>My Routines:</h2>\n                <ul>\n                    {myRoutinesList.length > 0 && myRoutinesList.map((routine) => {\n                        return <MyRoutinesItem\n                            key={routine.id}\n                            fetchData={fetchData}\n                            checkRoutineList={checkRoutineList}\n                            errorMessage={errorMessage}\n                            setErrorMessage={setErrorMessage}\n                            checkRoutineList={checkRoutineList}\n                            {...routine}\n                        />\n                    })}\n                </ul>\n            </div>\n        </>\n    )\n}\n\nexport default MyRoutines;"]},"metadata":{},"sourceType":"module"}