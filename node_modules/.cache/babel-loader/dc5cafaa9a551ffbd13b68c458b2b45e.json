{"ast":null,"code":"export const BASE_URL = 'https://secret-peak-53848.herokuapp.com';\n\nfunction createHeaders() {\n  // add check for token and add if statement for token\n  return {\n    'Content-Type': 'application/json'\n  };\n}\n\nexport async function registerUser(username, password) {\n  try {\n    const response = await fetch(`${BASE_URL}/api/users/register`, {\n      method: 'POST',\n      headers: createHeaders(),\n      body: JSON.stringify({\n        username: username,\n        password: password\n      })\n    });\n    const user = await response.json();\n\n    if (!data.ok) {\n      throw new Error(data.message);\n    }\n\n    ;\n    localStorage.setItem('token', user.token);\n    return user;\n  } catch (error) {\n    throw error;\n  }\n}\nexport async function loginUser(username, password) {\n  try {\n    const response = await fetch(`${BASE_URL}/api/users/login`, {\n      method: 'POST',\n      headers: createHeaders(),\n      body: JSON.stringify({\n        username: username,\n        password: password\n      })\n    });\n    const data = await response.json();\n    console.log(data);\n\n    if (!response.ok) {\n      throw new Error(data.message);\n    }\n\n    ;\n    localStorage.setItem('token', data.token); //\n\n    console.log('RESULTS => ', data); //\n\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\nexport async function fetchAllActivities() {\n  try {\n    const response = await fetch(`${BASE_URL}/api/activities`);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}","map":{"version":3,"sources":["/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/src/api/index.js"],"names":["BASE_URL","createHeaders","registerUser","username","password","response","fetch","method","headers","body","JSON","stringify","user","json","data","ok","Error","message","localStorage","setItem","token","error","loginUser","console","log","fetchAllActivities"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG,yCAAjB;;AAEP,SAASC,aAAT,GAAyB;AACrB;AACA,SAAO;AACH,oBAAe;AADZ,GAAP;AAGH;;AAED,OAAO,eAAeC,YAAf,CAA4BC,QAA5B,EAAsCC,QAAtC,EAAgD;AACnD,MAAI;AACA,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEN,QAAS,qBAAb,EAAmC;AAC3DO,MAAAA,MAAM,EAAE,MADmD;AAE3DC,MAAAA,OAAO,EAAEP,aAAa,EAFqC;AAG3DQ,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBR,QAAAA,QAAQ,EAAEA,QADO;AAEjBC,QAAAA,QAAQ,EAAEA;AAFO,OAAf;AAHqD,KAAnC,CAA5B;AAQA,UAAMQ,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAT,EAAnB;;AACA,QAAI,CAACC,IAAI,CAACC,EAAV,EAAc;AACV,YAAM,IAAIC,KAAJ,CAAUF,IAAI,CAACG,OAAf,CAAN;AACH;;AAAA;AACDC,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BP,IAAI,CAACQ,KAAnC;AACA,WAAOR,IAAP;AACH,GAfD,CAeE,OAAOS,KAAP,EAAc;AACZ,UAAMA,KAAN;AACH;AACJ;AAED,OAAO,eAAeC,SAAf,CAAyBnB,QAAzB,EAAmCC,QAAnC,EAA6C;AAChD,MAAI;AACA,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEN,QAAS,kBAAb,EAAgC;AACxDO,MAAAA,MAAM,EAAE,MADgD;AAExDC,MAAAA,OAAO,EAAEP,aAAa,EAFkC;AAGxDQ,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBR,QAAAA,QAAQ,EAAEA,QADO;AAEjBC,QAAAA,QAAQ,EAAEA;AAFO,OAAf;AAHkD,KAAhC,CAA5B;AAQA,UAAMU,IAAI,GAAG,MAAMT,QAAQ,CAACQ,IAAT,EAAnB;AACAU,IAAAA,OAAO,CAACC,GAAR,CAAYV,IAAZ;;AACA,QAAI,CAACT,QAAQ,CAACU,EAAd,EAAkB;AACd,YAAM,IAAIC,KAAJ,CAAUF,IAAI,CAACG,OAAf,CAAN;AACH;;AAAA;AACDC,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BL,IAAI,CAACM,KAAnC,EAdA,CAeA;;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BV,IAA3B,EAhBA,CAiBA;;AACA,WAAOA,IAAP;AACH,GAnBD,CAmBE,OAAOO,KAAP,EAAc;AACZ,UAAMA,KAAN;AACH;AACJ;AAED,OAAO,eAAeI,kBAAf,GAAoC;AACvC,MAAI;AACA,UAAMpB,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEN,QAAS,iBAAb,CAA5B;AACA,UAAMc,IAAI,GAAG,MAAMT,QAAQ,CAACQ,IAAT,EAAnB;AACA,WAAOC,IAAP;AACH,GAJD,CAIE,OAAOO,KAAP,EAAc;AACZ,UAAMA,KAAN;AACH;AACJ","sourcesContent":["export const BASE_URL = 'https://secret-peak-53848.herokuapp.com';\n\nfunction createHeaders() {\n    // add check for token and add if statement for token\n    return {\n        'Content-Type':'application/json'\n    };\n}\n\nexport async function registerUser(username, password) {\n    try {\n        const response = await fetch(`${BASE_URL}/api/users/register`, {\n            method: 'POST',\n            headers: createHeaders(),\n            body: JSON.stringify({\n                username: username,\n                password: password\n            })\n        });\n        const user = await response.json();\n        if (!data.ok) {\n            throw new Error(data.message);\n        };\n        localStorage.setItem('token', user.token);\n        return user;\n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function loginUser(username, password) {\n    try {\n        const response = await fetch(`${BASE_URL}/api/users/login`, {\n            method: 'POST',\n            headers: createHeaders(),\n            body: JSON.stringify({\n                username: username,\n                password: password\n            })\n        });\n        const data = await response.json();\n        console.log(data)\n        if (!response.ok) {\n            throw new Error(data.message);\n        };\n        localStorage.setItem('token', data.token);\n        //\n        console.log('RESULTS => ', data);\n        //\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function fetchAllActivities() {\n    try {\n        const response = await fetch(`${BASE_URL}/api/activities`);\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}"]},"metadata":{},"sourceType":"module"}