{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";export var BASE_URL='https://secret-peak-53848.herokuapp.com';function createHeaders(){if(localStorage.getItem('token')){var token=localStorage.getItem('token');return{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)};}else{return{'Content-Type':'application/json'};};}export function registerUser(_x,_x2){return _registerUser.apply(this,arguments);}function _registerUser(){_registerUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(username,password){var response,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(BASE_URL,\"/api/users/register\"),{method:'POST',headers:createHeaders(),body:JSON.stringify({username:username,password:password})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:user=_context.sent;if(response.ok){_context.next=9;break;}throw new Error(data.message);case 9:;localStorage.setItem('token',user.token);return _context.abrupt(\"return\",user);case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);throw _context.t0;case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,14]]);}));return _registerUser.apply(this,arguments);}export function loginUser(_x3,_x4){return _loginUser.apply(this,arguments);}function _loginUser(){_loginUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(username,password){var response,_data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"\".concat(BASE_URL,\"/api/users/login\"),{method:'POST',headers:createHeaders(),body:JSON.stringify({username:username,password:password})});case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:_data=_context2.sent;if(response.ok){_context2.next=9;break;}throw new Error(_data.message);case 9:;localStorage.setItem('token',_data.token);return _context2.abrupt(\"return\",_data);case 14:_context2.prev=14;_context2.t0=_context2[\"catch\"](0);throw _context2.t0;case 17:case\"end\":return _context2.stop();}}},_callee2,null,[[0,14]]);}));return _loginUser.apply(this,arguments);}export function fetchAllActivities(){return _fetchAllActivities.apply(this,arguments);}function _fetchAllActivities(){_fetchAllActivities=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response,_data2;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"\".concat(BASE_URL,\"/api/activities\"));case 3:response=_context3.sent;_context3.next=6;return response.json();case 6:_data2=_context3.sent;return _context3.abrupt(\"return\",_data2);case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);throw _context3.t0;case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[0,10]]);}));return _fetchAllActivities.apply(this,arguments);}export function createActivity(_x5,_x6){return _createActivity.apply(this,arguments);}function _createActivity(){_createActivity=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(name,description){var response,_data3;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return fetch(\"\".concat(BASE_URL,\"/api/activities\"),{method:'POST',headers:createHeaders(),body:JSON.stringify({name:name,description:description})});case 3:response=_context4.sent;_context4.next=6;return response.json();case 6:_data3=_context4.sent;if(response.ok){_context4.next=9;break;}throw new Error(_data3.message);case 9:;return _context4.abrupt(\"return\",_data3);case 13:_context4.prev=13;_context4.t0=_context4[\"catch\"](0);throw _context4.t0;case 16:case\"end\":return _context4.stop();}}},_callee4,null,[[0,13]]);}));return _createActivity.apply(this,arguments);}export function deleteActivity(_x7){return _deleteActivity.apply(this,arguments);}function _deleteActivity(){_deleteActivity=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id){var response,_data4;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return fetch(\"\".concat(BASE_URL,\"/api/activities/\").concat(id),{method:'DELETE',headers:createHeaders()});case 3:response=_context5.sent;_context5.next=6;return response.json();case 6:_data4=_context5.sent;if(response.ok){_context5.next=9;break;}throw new Error(_data4.message);case 9:;return _context5.abrupt(\"return\",_data4);case 13:_context5.prev=13;_context5.t0=_context5[\"catch\"](0);case 15:case\"end\":return _context5.stop();}}},_callee5,null,[[0,13]]);}));return _deleteActivity.apply(this,arguments);}export function fetchAllPublicRoutines(){return _fetchAllPublicRoutines.apply(this,arguments);}function _fetchAllPublicRoutines(){_fetchAllPublicRoutines=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var response,_data5;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return fetch(\"\".concat(BASE_URL,\"/api/routines\"));case 3:response=_context6.sent;_context6.next=6;return response.json();case 6:_data5=_context6.sent;return _context6.abrupt(\"return\",_data5);case 10:_context6.prev=10;_context6.t0=_context6[\"catch\"](0);throw _context6.t0;case 13:case\"end\":return _context6.stop();}}},_callee6,null,[[0,10]]);}));return _fetchAllPublicRoutines.apply(this,arguments);}export function fetchRoutinesByUser(_x8){return _fetchRoutinesByUser.apply(this,arguments);}function _fetchRoutinesByUser(){_fetchRoutinesByUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(username){var response,_data6;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return fetch(\"\".concat(BASE_URL,\"/api/routines/user/\").concat(username),{method:'GET',headers:createHeaders()});case 3:response=_context7.sent;_context7.next=6;return response.json();case 6:_data6=_context7.sent;if(response.ok){_context7.next=9;break;}throw new Error(_data6.message);case 9:;return _context7.abrupt(\"return\",_data6);case 13:_context7.prev=13;_context7.t0=_context7[\"catch\"](0);throw _context7.t0;case 16:case\"end\":return _context7.stop();}}},_callee7,null,[[0,13]]);}));return _fetchRoutinesByUser.apply(this,arguments);}export function createRoutine(_x9,_x10,_x11){return _createRoutine.apply(this,arguments);}function _createRoutine(){_createRoutine=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(name,goal,isPublic){var response,_data7;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return fetch(\"\".concat(BASE_URL,\"/api/routines\"),{method:'POST',headers:createHeaders(),body:JSON.stringify({name:name,goal:goal,isPublic:isPublic})});case 3:response=_context8.sent;_data7=response.json();if(response.ok){_context8.next=7;break;}throw new Error(_data7.message);case 7:;return _context8.abrupt(\"return\",_data7);case 11:_context8.prev=11;_context8.t0=_context8[\"catch\"](0);throw _context8.t0;case 14:case\"end\":return _context8.stop();}}},_callee8,null,[[0,11]]);}));return _createRoutine.apply(this,arguments);}export function updateRoutine(_x12,_x13,_x14,_x15){return _updateRoutine.apply(this,arguments);}function _updateRoutine(){_updateRoutine=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(name,goal,isPublic,id){var response,_data8;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return fetch(\"\".concat(BASE_URL,\"/api/routines/\").concat(id),{method:'PATCH',headers:createHeaders(),body:JSON.stringify({name:name?name:null,goal:goal?goal:null,isPublic:isPublic!==undefined?isPublic:null})});case 3:response=_context9.sent;_context9.next=6;return response.json();case 6:_data8=_context9.sent;if(response.ok){_context9.next=9;break;}throw new Error(_data8.message);case 9:;return _context9.abrupt(\"return\",_data8);case 13:_context9.prev=13;_context9.t0=_context9[\"catch\"](0);throw _context9.t0;case 16:case\"end\":return _context9.stop();}}},_callee9,null,[[0,13]]);}));return _updateRoutine.apply(this,arguments);}export function addActivityToRoutine(_x16,_x17,_x18,_x19){return _addActivityToRoutine.apply(this,arguments);}function _addActivityToRoutine(){_addActivityToRoutine=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(routineId,activityId,count,duration){var response,_data9;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.prev=0;_context10.next=3;return fetch(\"\".concat(BASE_URL,\"/api/routines/\").concat(routineId,\"/activities\"),{method:'POST',headers:createHeaders(),body:JSON.stringify({activityId:activityId,count:count,duration:duration})});case 3:response=_context10.sent;_context10.next=6;return response.json();case 6:_data9=_context10.sent;if(response.ok){_context10.next=9;break;}throw new Error(_data9.message);case 9:return _context10.abrupt(\"return\",_data9);case 12:_context10.prev=12;_context10.t0=_context10[\"catch\"](0);throw _context10.t0;case 15:case\"end\":return _context10.stop();}}},_callee10,null,[[0,12]]);}));return _addActivityToRoutine.apply(this,arguments);}export function deleteRoutine(_x20){return _deleteRoutine.apply(this,arguments);}function _deleteRoutine(){_deleteRoutine=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(id){var response,_data10;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.prev=0;_context11.next=3;return fetch(\"\".concat(BASE_URL,\"/api/routines/\").concat(id),{method:'DELETE',headers:createHeaders()});case 3:response=_context11.sent;_data10=response.json();if(response.ok){_context11.next=7;break;}throw new Error(_data10.message);case 7:return _context11.abrupt(\"return\",_data10);case 10:_context11.prev=10;_context11.t0=_context11[\"catch\"](0);throw _context11.t0;case 13:case\"end\":return _context11.stop();}}},_callee11,null,[[0,10]]);}));return _deleteRoutine.apply(this,arguments);}export function getRoutineActivitiesByRoutineId(_x21){return _getRoutineActivitiesByRoutineId.apply(this,arguments);}function _getRoutineActivitiesByRoutineId(){_getRoutineActivitiesByRoutineId=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(id){var response,_data11;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.prev=0;_context12.next=3;return fetch(\"\".concat(BASE_URL,\"/api/routine_activities/\").concat(id),{method:'GET',headers:createHeaders()});case 3:response=_context12.sent;_context12.next=6;return response.json();case 6:_data11=_context12.sent;if(response.ok){_context12.next=9;break;}throw new Error(_data11.message);case 9:return _context12.abrupt(\"return\",_data11);case 12:_context12.prev=12;_context12.t0=_context12[\"catch\"](0);throw _context12.t0;case 15:case\"end\":return _context12.stop();}}},_callee12,null,[[0,12]]);}));return _getRoutineActivitiesByRoutineId.apply(this,arguments);}export function deleteRoutineActivity(_x22){return _deleteRoutineActivity.apply(this,arguments);}function _deleteRoutineActivity(){_deleteRoutineActivity=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(routineActivityId){var response,_data12;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.prev=0;_context13.next=3;return fetch(\"\".concat(BASE_URL,\"/api/routine_activities/\").concat(routineActivityId),{method:'DELETE',headers:createHeaders()});case 3:response=_context13.sent;_data12=response.json();if(response.ok){_context13.next=7;break;}throw new Error(_data12.message);case 7:return _context13.abrupt(\"return\",_data12);case 10:_context13.prev=10;_context13.t0=_context13[\"catch\"](0);throw _context13.t0;case 13:case\"end\":return _context13.stop();}}},_callee13,null,[[0,10]]);}));return _deleteRoutineActivity.apply(this,arguments);}","map":{"version":3,"sources":["/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/src/api/index.js"],"names":["BASE_URL","createHeaders","localStorage","getItem","token","registerUser","username","password","fetch","method","headers","body","JSON","stringify","response","json","user","ok","Error","data","message","setItem","loginUser","fetchAllActivities","createActivity","name","description","deleteActivity","id","fetchAllPublicRoutines","fetchRoutinesByUser","createRoutine","goal","isPublic","updateRoutine","undefined","addActivityToRoutine","routineId","activityId","count","duration","deleteRoutine","getRoutineActivitiesByRoutineId","deleteRoutineActivity","routineActivityId"],"mappings":"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","sourcesContent":["export const BASE_URL = 'https://secret-peak-53848.herokuapp.com';\n\nfunction createHeaders() {\n    if (localStorage.getItem('token')) {\n        const token = localStorage.getItem('token');\n        return {\n            'Content-Type':'application/json',\n            'Authorization':`Bearer ${token}`\n        }\n    } else {\n        return {\n            'Content-Type':'application/json'\n        }; \n    };\n}\n\nexport async function registerUser(username, password) {\n    try {\n        const response = await fetch(`${BASE_URL}/api/users/register`, {\n            method: 'POST',\n            headers: createHeaders(),\n            body: JSON.stringify({\n                username: username,\n                password: password\n            })\n        });\n        const user = await response.json();\n        if (!response.ok) {\n            throw new Error(data.message);\n        };\n        localStorage.setItem('token', user.token);\n        return user;\n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function loginUser(username, password) {\n    try {\n        const response = await fetch(`${BASE_URL}/api/users/login`, {\n            method: 'POST',\n            headers: createHeaders(),\n            body: JSON.stringify({\n                username: username,\n                password: password\n            })\n        });\n        const data = await response.json();\n        if (!response.ok) {\n            throw new Error(data.message);\n        };\n        localStorage.setItem('token', data.token);\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function fetchAllActivities() {\n    try {\n        const response = await fetch(`${BASE_URL}/api/activities`);\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function createActivity(name, description) {\n    try {\n        const response = await fetch(`${BASE_URL}/api/activities`, {\n            method: 'POST',\n            headers: createHeaders(),\n            body: JSON.stringify({\n                name: name,\n                description: description\n            })\n        });\n        const data = await response.json();\n        if (!response.ok) {\n            throw new Error(data.message);\n        };\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function deleteActivity(id) {\n    try {\n        const response = await fetch(`${BASE_URL}/api/activities/${id}`, {\n            method: 'DELETE',\n            headers: createHeaders()\n        })\n        const data = await response.json();\n        if (!response.ok) {\n            throw new Error(data.message);\n        };\n        return data;        \n    } catch (error) {\n        \n    }\n}\n\nexport async function fetchAllPublicRoutines() {\n    try {\n        const response = await fetch(`${BASE_URL}/api/routines`);\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function fetchRoutinesByUser(username) {\n    try {\n        const response = await fetch(`${BASE_URL}/api/routines/user/${username}`, {\n            method: 'GET',\n            headers: createHeaders()\n        });\n        const data = await response.json();\n        if (!response.ok) {\n            throw new Error(data.message);\n        };\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function createRoutine(name, goal, isPublic) {\n    try {\n        const response = await fetch(`${BASE_URL}/api/routines`, {\n            method: 'POST',\n            headers: createHeaders(),\n            body: JSON.stringify({\n                name: name,\n                goal: goal,\n                isPublic: isPublic\n            })\n        });\n        const data = response.json();\n        if (!response.ok) {\n            throw new Error(data.message);\n        };\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function updateRoutine(name, goal, isPublic, id) {\n    try {\n        const response = await fetch(`${BASE_URL}/api/routines/${id}`, {\n            method: 'PATCH',\n            headers: createHeaders(),\n            body: JSON.stringify({\n                name: name ? name : null,\n                goal: goal ? goal : null,\n                isPublic: isPublic !== undefined ? isPublic : null\n            })\n        });\n        const data = await response.json();\n        if (!response.ok) {\n            throw new Error(data.message);\n        };\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function addActivityToRoutine(routineId, activityId, count, duration) {\n    try {\n        const response = await fetch(`${BASE_URL}/api/routines/${routineId}/activities`, {\n            method: 'POST',\n            headers: createHeaders(),\n            body: JSON.stringify({\n                activityId: activityId,\n                count: count,\n                duration: duration\n            })\n        });\n        const data = await response.json();\n        if (!response.ok) {\n            throw new Error(data.message);\n        }\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function deleteRoutine(id) {\n    try {\n        const response = await fetch(`${BASE_URL}/api/routines/${id}`, {\n            method: 'DELETE',\n            headers: createHeaders()\n        });\n        const data = response.json();\n        if (!response.ok) {\n            throw new Error(data.message);\n        }\n        return data; \n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function getRoutineActivitiesByRoutineId(id) {\n    try {\n        const response = await fetch(`${BASE_URL}/api/routine_activities/${id}`, {\n            method: 'GET',\n            headers: createHeaders()\n        })\n        const data = await response.json();\n        if (!response.ok) {\n            throw new Error(data.message);\n        }\n\n        return data; \n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function deleteRoutineActivity(routineActivityId) {\n    try {\n        const response = await fetch(`${BASE_URL}/api/routine_activities/${routineActivityId}`, {\n            method: 'DELETE',\n            headers: createHeaders()\n        })\n        const data = response.json();\n        if (!response.ok) {\n            throw new Error(data.message);\n        }\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}"]},"metadata":{},"sourceType":"module"}