{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{deleteRoutine}from'../api';import MyRoutinesItemEdit from'./MyRoutinesItemEdit';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MyRoutinesItem=function MyRoutinesItem(_ref){var fetchData=_ref.fetchData,checkRoutineList=_ref.checkRoutineList,name=_ref.name,goal=_ref.goal,creatorName=_ref.creatorName,activities=_ref.activities,isPublic=_ref.isPublic,id=_ref.id;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),toggle=_useState2[0],setToggle=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),pendingActivities=_useState4[0],setPendingActivities=_useState4[1];var handleEditToggle=function handleEditToggle(){setToggle(!toggle);};var handleDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var results;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return deleteRoutine(id);case 3:results=_context.sent;fetchData();_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function handleDelete(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:!toggle?/*#__PURE__*/_jsxs(\"div\",{className:\"card routine\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Routine: \",/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:name})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Goal: \",goal]}),activities.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"routine-activities\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Activities: \"}),/*#__PURE__*/_jsx(\"ul\",{children:activities.map(function(_ref3){var name=_ref3.name,description=_ref3.description,count=_ref3.count,duration=_ref3.duration,routineActivityId=_ref3.routineActivityId;return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"name\",children:[name,\": \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"description\",children:[description,\" \"]}),\"(\",count,\" \",count>1?'reps':'rep',\" for \",duration,\" \",duration>1?'mins':'min',\")\"]},routineActivityId);})})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status: \",isPublic?/*#__PURE__*/_jsx(\"span\",{children:\"public\"}):/*#__PURE__*/_jsx(\"span\",{children:\"private\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Created by: \",creatorName]}),/*#__PURE__*/_jsx(\"span\",{className:\"material-icons\",onClick:function onClick(){return handleDelete(id);},children:\"delete\"}),/*#__PURE__*/_jsx(\"span\",{className:\"material-icons\",onClick:handleEditToggle,children:\"edit\"})]},id):/*#__PURE__*/_jsx(MyRoutinesItemEdit,{fetchData:fetchData,pendingActivities:pendingActivities,setPendingActivities:setPendingActivities,checkRoutineList:checkRoutineList,toggle:toggle,setToggle:setToggle,name:name,goal:goal,creatorName:creatorName,isPublic:isPublic,id:id})});};export default MyRoutinesItem;","map":{"version":3,"sources":["/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/src/components/MyRoutinesItem.jsx"],"names":["React","useState","deleteRoutine","MyRoutinesItemEdit","MyRoutinesItem","fetchData","checkRoutineList","name","goal","creatorName","activities","isPublic","id","toggle","setToggle","pendingActivities","setPendingActivities","handleEditToggle","handleDelete","results","console","error","length","map","description","count","duration","routineActivityId"],"mappings":"4kBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CAEA,OAAQC,aAAR,KAA4B,QAA5B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,C,6IAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAAsF,IAApFC,CAAAA,SAAoF,MAApFA,SAAoF,CAAzEC,gBAAyE,MAAzEA,gBAAyE,CAAvDC,IAAuD,MAAvDA,IAAuD,CAAjDC,IAAiD,MAAjDA,IAAiD,CAA3CC,WAA2C,MAA3CA,WAA2C,CAA9BC,UAA8B,MAA9BA,UAA8B,CAAlBC,QAAkB,MAAlBA,QAAkB,CAARC,EAAQ,MAARA,EAAQ,CACzG,cAA4BX,QAAQ,CAAC,KAAD,CAApC,wCAAOY,MAAP,eAAeC,SAAf,eAEA,eAAkDb,QAAQ,CAAC,EAAD,CAA1D,yCAAOc,iBAAP,eAA0BC,oBAA1B,eAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC3BH,SAAS,CAAC,CAACD,MAAF,CAAT,CACH,CAFD,CAIA,GAAMK,CAAAA,YAAY,2FAAG,iBAAON,EAAP,oKAESV,CAAAA,aAAa,CAACU,EAAD,CAFtB,QAEPO,OAFO,eAGbd,SAAS,GAHI,+EAKbe,OAAO,CAACC,KAAR,cALa,oEAAH,kBAAZH,CAAAA,YAAY,6CAAlB,CASA,mBACI,yBACC,CAACL,MAAD,cACG,aAAc,SAAS,CAAC,cAAxB,wBACI,+CAAa,aAAM,SAAS,CAAC,MAAhB,UAAwBN,IAAxB,EAAb,GADJ,cAEI,8BAAUC,IAAV,GAFJ,CAGKE,UAAU,CAACY,MAAX,CAAoB,CAApB,eACD,aAAK,SAAS,CAAC,oBAAf,wBACI,mCADJ,cAEI,oBACKZ,UAAU,CAACa,GAAX,CAAe,eAA6D,IAA3DhB,CAAAA,IAA2D,OAA3DA,IAA2D,CAArDiB,WAAqD,OAArDA,WAAqD,CAAxCC,KAAwC,OAAxCA,KAAwC,CAAjCC,QAAiC,OAAjCA,QAAiC,CAAvBC,iBAAuB,OAAvBA,iBAAuB,CACzE,mBAAO,mCACH,cAAM,SAAS,CAAC,MAAhB,WAAwBpB,IAAxB,QADG,cAEH,cAAM,SAAS,CAAC,aAAhB,WAA+BiB,WAA/B,OAFG,KAGDC,KAHC,KAGOA,KAAK,CAAG,CAAR,CAAY,MAAZ,CAAqB,KAH5B,SAGwCC,QAHxC,KAGmDA,QAAQ,CAAG,CAAX,CAAe,MAAf,CAAwB,KAH3E,OAASC,iBAAT,CAAP,CAKH,CANA,CADL,EAFJ,GAJJ,cAiBI,gCAAYhB,QAAQ,cAAG,gCAAH,cAAyB,iCAA7C,GAjBJ,cAkBI,oCAAgBF,WAAhB,GAlBJ,cAmBI,aAAM,SAAS,CAAC,gBAAhB,CAAiC,OAAO,CAAE,yBAAMS,CAAAA,YAAY,CAACN,EAAD,CAAlB,EAA1C,oBAnBJ,cAoBI,aAAM,SAAS,CAAC,gBAAhB,CAAiC,OAAO,CAAEK,gBAA1C,kBApBJ,GAAUL,EAAV,CADH,cAwBG,KAAC,kBAAD,EACI,SAAS,CAAEP,SADf,CAEI,iBAAiB,CAAEU,iBAFvB,CAGI,oBAAoB,CAAEC,oBAH1B,CAII,gBAAgB,CAAEV,gBAJtB,CAKI,MAAM,CAAEO,MALZ,CAMI,SAAS,CAAEC,SANf,CAOI,IAAI,CAAEP,IAPV,CAQI,IAAI,CAAEC,IARV,CASI,WAAW,CAAEC,WATjB,CAUI,QAAQ,CAAEE,QAVd,CAWI,EAAE,CAAEC,EAXR,EAzBJ,EADJ,CAyCH,CA3DD,CA6DA,cAAeR,CAAAA,cAAf","sourcesContent":["import React, {useState} from 'react';\n\nimport {deleteRoutine} from '../api';\nimport MyRoutinesItemEdit from './MyRoutinesItemEdit';\n\nconst MyRoutinesItem = ({fetchData, checkRoutineList, name, goal, creatorName, activities, isPublic, id}) => {\n    const [toggle, setToggle] = useState(false)\n\n    const [pendingActivities, setPendingActivities] = useState([]);\n\n    const handleEditToggle = () => {\n        setToggle(!toggle);\n    }\n\n    const handleDelete = async (id) => {\n        try {\n            const results = await deleteRoutine(id);\n            fetchData();\n        } catch (error) {\n            console.error(error);\n        }\n    }\n\n    return (\n        <>\n        {!toggle ? (\n            <div key={id} className='card routine'>\n                <h3>Routine: <span className='name'>{name}</span></h3>\n                <p>Goal: {goal}</p>\n                {activities.length > 0 &&\n                <div className='routine-activities'>\n                    <p>Activities: </p>\n                    <ul>\n                        {activities.map(({name, description, count, duration, routineActivityId}) => {\n                            return <li key={routineActivityId}>\n                                <span className='name'>{name}: </span>\n                                <span className='description'>{description} </span>\n                                ({count} {count > 1 ? 'reps' : 'rep'} for {duration} {duration > 1 ? 'mins' : 'min'})\n                            </li>\n                        })}\n                    </ul>\n                </div>\n                }\n                <p>Status: {isPublic ? <span>public</span> : <span>private</span>}</p>\n                <p>Created by: {creatorName}</p>\n                <span className='material-icons' onClick={() => handleDelete(id)}>delete</span>\n                <span className='material-icons' onClick={handleEditToggle}>edit</span>\n            </div>\n        ) : (\n            <MyRoutinesItemEdit\n                fetchData={fetchData}\n                pendingActivities={pendingActivities}\n                setPendingActivities={setPendingActivities}\n                checkRoutineList={checkRoutineList}\n                toggle={toggle}\n                setToggle={setToggle}\n                name={name}\n                goal={goal}\n                creatorName={creatorName}\n                isPublic={isPublic}\n                id={id} />\n        )}\n        </>\n    )\n}\n\nexport default MyRoutinesItem;"]},"metadata":{},"sourceType":"module"}