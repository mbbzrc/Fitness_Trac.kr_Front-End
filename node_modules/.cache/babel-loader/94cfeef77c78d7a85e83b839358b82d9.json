{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{createRoutine}from'../api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyRoutinesForm=function MyRoutinesForm(_ref){var fetchData=_ref.fetchData,checkRoutineList=_ref.checkRoutineList;var _useState=useState({name:'',goal:'',isPublic:false}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),errorMessage=_useState4[0],setErrorMessage=_useState4[1];var handleFormChange=function handleFormChange(event){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},event.target.name,event.target.value)));};var handleOptionChange=function handleOptionChange(event){var isPublicValue;if(event.target.value=='true'){isPublicValue=true;}else if(event.target.value=='false'){isPublicValue=false;}setForm(_objectSpread(_objectSpread({},form),{},{isPublic:isPublicValue}));};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var name,goal,isPublic;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();setErrorMessage('');name=form.name,goal=form.goal,isPublic=form.isPublic;if(!(!name||!goal)){_context.next=6;break;}setErrorMessage('Both name and goal are required!');return _context.abrupt(\"return\");case 6:if(!checkRoutineList(name)){_context.next=9;break;}setErrorMessage('This routine already exists! Please choose another name.');return _context.abrupt(\"return\");case 9:_context.prev=9;_context.next=12;return createRoutine(name,goal,isPublic);case 12:setForm({name:'',goal:'',isPublic:false});fetchData();_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](9);console.error(_context.t0);case 19:case\"end\":return _context.stop();}}},_callee,null,[[9,16]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create New Routine:\"}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Routine name: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:form.name,onChange:handleFormChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Routine goal: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"goal\",value:form.goal,onChange:handleFormChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Share your routine?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-radio\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"isPublic\",value:\"false\",onChange:handleOptionChange,checked:form.isPublic===false}),\" Private\",/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"isPublic\",value:\"true\",onChange:handleOptionChange,checked:form.isPublic===true}),\" Public\"]})]}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:errorMessage}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create routine\",onClick:handleSubmit})]});};export default MyRoutinesForm;","map":{"version":3,"sources":["/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/src/components/MyRoutinesForm.jsx"],"names":["React","useState","useEffect","createRoutine","MyRoutinesForm","fetchData","checkRoutineList","name","goal","isPublic","form","setForm","errorMessage","setErrorMessage","handleFormChange","event","target","value","handleOptionChange","isPublicValue","handleSubmit","preventDefault","console","error"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\n\nimport {createRoutine} from '../api';\n\nconst MyRoutinesForm = ({fetchData, checkRoutineList}) => {    \n    const [form, setForm] = useState({\n        name: '',\n        goal: '',\n        isPublic: false\n    })\n\n    const [errorMessage, setErrorMessage] = useState(null);\n\n    const handleFormChange = (event) => {\n        setForm({...form, [event.target.name]: event.target.value});\n    }\n\n    const handleOptionChange = (event) => {\n        let isPublicValue;\n        if (event.target.value == 'true') {\n            isPublicValue = true;\n        } else if (event.target.value == 'false') {\n            isPublicValue = false;\n        }\n        setForm({...form, isPublic: isPublicValue});\n    }\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        setErrorMessage('');\n        const {name, goal, isPublic} = form;\n        if (!name || !goal) {\n            setErrorMessage('Both name and goal are required!');\n            return;\n        }\n        if (checkRoutineList(name)) {\n            setErrorMessage('This routine already exists! Please choose another name.');\n            return;\n        }\n        try {\n            await createRoutine(name, goal, isPublic);\n            setForm({name: '', goal: '', isPublic: false});\n            fetchData();  \n        } catch (error) {\n            console.error(error);\n        }\n    }\n\n    return (\n        <form>\n            <h3>Create New Routine:</h3>\n            <label>\n                <span>Routine name: </span>\n                <input type='text' name='name' value={form.name} onChange={handleFormChange} />\n            </label>\n            <label>\n                <span>Routine goal: </span>\n                <input type='text' name='goal' value={form.goal} onChange={handleFormChange} />\n            </label>\n            <label>\n                <span>Share your routine?</span>\n                <div className='input-radio'>\n                    <input type='radio' name='isPublic' value='false' onChange={handleOptionChange} checked={form.isPublic === false} /> Private\n                    <input type='radio' name='isPublic' value='true' onChange={handleOptionChange} checked={form.isPublic === true} /> Public    \n                </div>\n            </label>\n            {errorMessage && (\n            <p className='error-message'>{errorMessage}</p>\n            )}\n            <input type='submit' value='Create routine' onClick={handleSubmit} />\n        </form>\n    )\n}\n\nexport default MyRoutinesForm;"]},"metadata":{},"sourceType":"module"}