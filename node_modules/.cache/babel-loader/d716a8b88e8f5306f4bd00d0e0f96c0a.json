{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{fetchRoutinesByUser}from'../api';import{MyRoutinesForm,MyRoutinesItem}from'./index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MyRoutines=function MyRoutines(_ref){var currentUser=_ref.currentUser;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),myRoutinesList=_useState2[0],setMyRoutinesList=_useState2[1];var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var results;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetchRoutinesByUser(currentUser.username);case 3:results=_context.sent;setMyRoutinesList(results);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();function checkRoutineList(name){var myRoutinesListLowercase=myRoutinesList.map(function(routine){var routineName=routine.name.toLowerCase();return routineName;});var nameLowercase=name.toLowerCase();return myRoutinesListLowercase.includes(nameLowercase);}useEffect(function(){fetchData();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Routines:\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Create and customize your personal routines here! It's up to you whether you make them public or keep them private. Be sure to add some activities once you've created a routine.\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"my-routines\",children:[/*#__PURE__*/_jsx(MyRoutinesForm,{fetchData:fetchData,myRoutinesList:myRoutinesList,checkRoutineList:checkRoutineList}),/*#__PURE__*/_jsx(\"h3\",{children:\"Existing Routines:\"}),/*#__PURE__*/_jsx(\"ul\",{children:myRoutinesList.length>0&&myRoutinesList.map(function(_ref3){var name=_ref3.name,goal=_ref3.goal,creatorName=_ref3.creatorName,activities=_ref3.activities,isPublic=_ref3.isPublic,id=_ref3.id;return/*#__PURE__*/_jsx(MyRoutinesItem,{fetchData:fetchData,checkRoutineList:checkRoutineList,myRoutinesList:myRoutinesList,name:name,goal:goal,creatorName:creatorName,activities:activities,isPublic:isPublic,id:id},id);})})]})]});};export default MyRoutines;","map":{"version":3,"sources":["/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/project_17/src/components/MyRoutines.jsx"],"names":["React","useState","useEffect","fetchRoutinesByUser","MyRoutinesForm","MyRoutinesItem","MyRoutines","currentUser","myRoutinesList","setMyRoutinesList","fetchData","username","results","console","error","checkRoutineList","name","myRoutinesListLowercase","map","routine","routineName","toLowerCase","nameLowercase","includes","length","goal","creatorName","activities","isPublic","id"],"mappings":"4kBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CAEA,OAAQC,mBAAR,KAAkC,QAAlC,CAEA,OACIC,cADJ,CAEIC,cAFJ,KAGO,SAHP,C,6IAKA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAmB,IAAjBC,CAAAA,WAAiB,MAAjBA,WAAiB,CAClC,cAA4CN,QAAQ,CAAC,EAAD,CAApD,wCAAOO,cAAP,eAAuBC,iBAAvB,eAEA,GAAMC,CAAAA,SAAS,2FAAG,qLAEYP,CAAAA,mBAAmB,CAACI,WAAW,CAACI,QAAb,CAF/B,QAEJC,OAFI,eAGVH,iBAAiB,CAACG,OAAD,CAAjB,CAHU,+EAKVC,OAAO,CAACC,KAAR,cALU,oEAAH,kBAATJ,CAAAA,SAAS,2CAAf,CASA,QAASK,CAAAA,gBAAT,CAA0BC,IAA1B,CAAgC,CAC5B,GAAMC,CAAAA,uBAAuB,CAAGT,cAAc,CAACU,GAAf,CAAmB,SAACC,OAAD,CAAa,CAC5D,GAAMC,CAAAA,WAAW,CAAGD,OAAO,CAACH,IAAR,CAAaK,WAAb,EAApB,CACA,MAAOD,CAAAA,WAAP,CACH,CAH+B,CAAhC,CAIA,GAAME,CAAAA,aAAa,CAAGN,IAAI,CAACK,WAAL,EAAtB,CACA,MAAOJ,CAAAA,uBAAuB,CAACM,QAAxB,CAAiCD,aAAjC,CAAP,CACH,CAEDpB,SAAS,CAAC,UAAM,CACZQ,SAAS,GACZ,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACI,wCACI,oCADJ,cAEI,wMAFJ,cAGI,aAAK,EAAE,CAAC,aAAR,wBACI,KAAC,cAAD,EACI,SAAS,CAAEA,SADf,CAEI,cAAc,CAAEF,cAFpB,CAGI,gBAAgB,CAAEO,gBAHtB,EADJ,cAMI,0CANJ,cAOI,oBACKP,cAAc,CAACgB,MAAf,CAAwB,CAAxB,EAA6BhB,cAAc,CAACU,GAAf,CAAmB,eAAyD,IAAvDF,CAAAA,IAAuD,OAAvDA,IAAuD,CAAjDS,IAAiD,OAAjDA,IAAiD,CAA3CC,WAA2C,OAA3CA,WAA2C,CAA9BC,UAA8B,OAA9BA,UAA8B,CAAlBC,QAAkB,OAAlBA,QAAkB,CAARC,EAAQ,OAARA,EAAQ,CACtG,mBAAO,KAAC,cAAD,EAEH,SAAS,CAAEnB,SAFR,CAGH,gBAAgB,CAAEK,gBAHf,CAIH,cAAc,CAAEP,cAJb,CAKH,IAAI,CAAEQ,IALH,CAMH,IAAI,CAAES,IANH,CAOH,WAAW,CAAEC,WAPV,CAQH,UAAU,CAAEC,UART,CASH,QAAQ,CAAEC,QATP,CAUH,EAAE,CAAEC,EAVD,EACEA,EADF,CAAP,CAYH,CAb6B,CADlC,EAPJ,GAHJ,GADJ,CA8BH,CAvDD,CAyDA,cAAevB,CAAAA,UAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\n\nimport {fetchRoutinesByUser} from '../api';\n\nimport {\n    MyRoutinesForm,\n    MyRoutinesItem\n} from './index';\n\nconst MyRoutines = ({currentUser}) => {\n    const [myRoutinesList, setMyRoutinesList] = useState([]);\n\n    const fetchData = async () => {\n        try {\n            const results = await fetchRoutinesByUser(currentUser.username);\n            setMyRoutinesList(results);\n        } catch (error) {\n            console.error(error);\n        }\n    }\n\n    function checkRoutineList(name) {\n        const myRoutinesListLowercase = myRoutinesList.map((routine) => {\n            const routineName = routine.name.toLowerCase();\n            return routineName;\n        });\n        const nameLowercase = name.toLowerCase();\n        return myRoutinesListLowercase.includes(nameLowercase);\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, [])\n\n    return (\n        <>\n            <h2>My Routines:</h2>\n            <p>Create and customize your personal routines here! It's up to you whether you make them public or keep them private. Be sure to add some activities once you've created a routine.</p>\n            <div id='my-routines'>\n                <MyRoutinesForm\n                    fetchData={fetchData}\n                    myRoutinesList={myRoutinesList}\n                    checkRoutineList={checkRoutineList}\n                />\n                <h3>Existing Routines:</h3>\n                <ul>\n                    {myRoutinesList.length > 0 && myRoutinesList.map(({name, goal, creatorName, activities, isPublic, id}) => {\n                        return <MyRoutinesItem\n                            key={id}\n                            fetchData={fetchData}\n                            checkRoutineList={checkRoutineList}\n                            myRoutinesList={myRoutinesList}\n                            name={name}\n                            goal={goal}\n                            creatorName={creatorName}\n                            activities={activities}\n                            isPublic={isPublic}\n                            id={id}\n                        />\n                    })}\n                </ul>\n            </div>\n        </>\n    )\n}\n\nexport default MyRoutines;"]},"metadata":{},"sourceType":"module"}