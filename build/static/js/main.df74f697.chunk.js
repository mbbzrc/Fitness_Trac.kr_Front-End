(this.webpackJsonpproject_17=this.webpackJsonpproject_17||[]).push([[0],{36:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(1),c=n(23),s=n.n(c),i=n(8),u=n(6);function o(){var e=JSON.parse(localStorage.getItem("currentUser"));return e||!1}function l(){return!!localStorage.getItem("token")}var j=n(0),p=function(e){var t=e.currentUser,n=e.setCurrentUser;return Object(a.useEffect)((function(){!function(e){localStorage.setItem("currentUser",JSON.stringify(e))}(t)}),[t]),Object(j.jsx)("div",{className:"account",children:t.loggedIn?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h2",{children:["Welcome, ",t.username,"!"]}),Object(j.jsx)("div",{children:Object(j.jsx)("a",{href:"#",onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("currentUser"),n({username:"",loggedIn:!1})},children:"Log out"})})]}):Object(j.jsxs)(u.c,{children:[Object(j.jsx)(u.a,{path:"/account/login",children:Object(j.jsx)($,{setCurrentUser:n})}),Object(j.jsx)(u.a,{path:"/account/register",children:Object(j.jsx)(te,{setCurrentUser:n})})]})})},h=n(9),b=n(5),d=n(2),O=n.n(d),x=n(3),f="https://secret-peak-53848.herokuapp.com";function v(){if(localStorage.getItem("token")){var e=localStorage.getItem("token");return{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}return{"Content-Type":"application/json"}}function m(e,t){return g.apply(this,arguments)}function g(){return(g=Object(x.a)(O.a.mark((function e(t,n){var r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/api/users/register"),{method:"POST",headers:v(),body:JSON.stringify({username:t,password:n})});case 3:return r=e.sent,e.next=6,r.json();case 6:if(a=e.sent,r.ok){e.next=9;break}throw new Error(data.message);case 9:return localStorage.setItem("token",a.token),e.abrupt("return",a);case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function y(e,t){return w.apply(this,arguments)}function w(){return(w=Object(x.a)(O.a.mark((function e(t,n){var r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/api/users/login"),{method:"POST",headers:v(),body:JSON.stringify({username:t,password:n})});case 3:return r=e.sent,e.next=6,r.json();case 6:if(a=e.sent,r.ok){e.next=9;break}throw new Error(a.message);case 9:return localStorage.setItem("token",a.token),e.abrupt("return",a);case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function k(){return C.apply(this,arguments)}function C(){return(C=Object(x.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/api/activities"));case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function S(e,t){return N.apply(this,arguments)}function N(){return(N=Object(x.a)(O.a.mark((function e(t,n){var r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/api/activities"),{method:"POST",headers:v(),body:JSON.stringify({name:t,description:n})});case 3:return r=e.sent,e.next=6,r.json();case 6:if(a=e.sent,r.ok){e.next=9;break}throw new Error(a.message);case 9:return e.abrupt("return",a);case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function P(e){return I.apply(this,arguments)}function I(){return(I=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/api/activities/").concat(t),{method:"DELETE",headers:v()});case 3:return n=e.sent,e.next=6,n.json();case 6:if(r=e.sent,n.ok){e.next=9;break}throw new Error(r.message);case 9:return e.abrupt("return",r);case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function E(){return A.apply(this,arguments)}function A(){return(A=Object(x.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/api/routines"));case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function T(e){return R.apply(this,arguments)}function R(){return(R=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/api/routines/user/").concat(t),{method:"GET",headers:v()});case 3:return n=e.sent,e.next=6,n.json();case 6:if(r=e.sent,n.ok){e.next=9;break}throw new Error(r.message);case 9:return e.abrupt("return",r);case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function D(e,t,n){return L.apply(this,arguments)}function L(){return(L=Object(x.a)(O.a.mark((function e(t,n,r){var a,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/api/routines"),{method:"POST",headers:v(),body:JSON.stringify({name:t,goal:n,isPublic:r})});case 3:if(a=e.sent,c=a.json(),a.ok){e.next=7;break}throw new Error(c.message);case 7:return e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function U(e,t,n,r){return F.apply(this,arguments)}function F(){return(F=Object(x.a)(O.a.mark((function e(t,n,r,a){var c,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/api/routines/").concat(a),{method:"PATCH",headers:v(),body:JSON.stringify({name:t||null,goal:n||null,isPublic:void 0!==r?r:null})});case 3:return c=e.sent,e.next=6,c.json();case 6:if(s=e.sent,c.ok){e.next=9;break}throw new Error(s.message);case 9:return e.abrupt("return",s);case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function J(e,t,n,r){return M.apply(this,arguments)}function M(){return(M=Object(x.a)(O.a.mark((function e(t,n,r,a){var c,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/api/routines/").concat(t,"/activities"),{method:"POST",headers:v(),body:JSON.stringify({activityId:n,count:r,duration:a})});case 3:return c=e.sent,e.next=6,c.json();case 6:if(s=e.sent,c.ok){e.next=9;break}throw new Error(s.message);case 9:return e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function B(e){return W.apply(this,arguments)}function W(){return(W=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/api/routines/").concat(t),{method:"DELETE",headers:v()});case 3:if(n=e.sent,r=n.json(),n.ok){e.next=7;break}throw new Error(r.message);case 7:return e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function z(e){return G.apply(this,arguments)}function G(){return(G=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/api/routine_activities/").concat(t),{method:"GET",headers:v()});case 3:return n=e.sent,e.next=6,n.json();case 6:if(r=e.sent,n.ok){e.next=9;break}throw new Error(r.message);case 9:return e.abrupt("return",r);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function _(e){return q.apply(this,arguments)}function q(){return(q=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/api/routine_activities/").concat(t),{method:"DELETE",headers:v()});case 3:if(n=e.sent,r=n.json(),n.ok){e.next=7;break}throw new Error(r.message);case 7:return e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var Y=function(e){var t=e.currentUser,n=Object(a.useState)({name:"",description:""}),c=Object(r.a)(n,2),s=c[0],i=c[1],u=Object(a.useState)(null),o=Object(r.a)(u,2),p=o[0],d=o[1],f=Object(a.useState)([]),v=Object(r.a)(f,2),m=v[0],g=v[1],y=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k();case 3:t=e.sent,g(t),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){y()}),[]);var w=function(e){i(Object(b.a)(Object(b.a)({},s),{},Object(h.a)({},e.target.name,e.target.value)))};function C(e){var t=m.map((function(e){return e.name.toLowerCase()})),n=e.toLowerCase();return t.includes(n)}var N=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),d(""),n=s.name,r=s.description,n&&r){e.next=6;break}return d("Both name and description are required!"),e.abrupt("return");case 6:if(l()){e.next=9;break}return d("You are not logged in!"),e.abrupt("return");case 9:if(!C(n)){e.next=13;break}return d("Activity already exists!"),e.abrupt("return");case 13:return e.prev=13,e.next=16,S(n,r);case 16:i({name:"",description:""}),y(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(13),d(e.t0.message),console.error(e.t0);case 24:case"end":return e.stop()}}),e,null,[[13,20]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:y();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{children:"Activities:"}),Object(j.jsxs)("p",{children:["Welcome to Fitness Trac.kr activities! Check out our fitness database below. ",t.loggedIn?"These activities are visible to all users, so anything you create can be used to customize a new routine.":null]}),t.loggedIn?Object(j.jsxs)("form",{children:[Object(j.jsx)("h3",{children:"Create New Activity"}),Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"Activity name: "}),Object(j.jsx)("input",{type:"text",name:"name",value:s.name,onChange:w})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"Activity description: "}),Object(j.jsx)("textarea",{name:"description",value:s.description,onChange:w})]}),p&&Object(j.jsx)("p",{className:"error-message",children:p}),Object(j.jsx)("input",{type:"submit",value:"Create activity",onClick:N})]}):null,Object(j.jsxs)("div",{id:"activities",children:[Object(j.jsx)("h3",{children:"All Activities:"}),m.length>0&&m.map((function(e){var t=e.name,n=e.description,r=e.id;return Object(j.jsxs)("div",{className:"card activity",children:[Object(j.jsxs)("h4",{children:["Activity: ",Object(j.jsx)("span",{className:"name",children:t})]}),Object(j.jsxs)("p",{children:["Description: ",n]}),Object(j.jsx)("span",{className:"material-icons",onClick:function(){return I(r)},children:"delete"})]},r)}))]})]})},H=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{children:"Welcome to Fitness Trac.kr!"}),Object(j.jsx)("p",{children:Object(j.jsx)("em",{children:"Don't walk into the gym without a plan!"})}),Object(j.jsxs)("p",{children:["With Fitness Trac.kr, you can create custom ",Object(j.jsx)("strong",{children:Object(j.jsx)(i.b,{to:"/activities",children:"ACTIVITIES"})})," or take advantage of what other users have already contributed. If you're ready for a workout, check out the ",Object(j.jsx)("strong",{children:Object(j.jsx)(i.b,{to:"/routines",children:"ROUTINES"})})," our registered users have customized for you!"]}),Object(j.jsxs)("p",{children:["Interested in building your own routines? ",Object(j.jsx)(i.b,{to:"/account/register",children:"Create an account"})," with us! You can keep your routines private or share them with everyone else."]})]})},$=function(e){var t=e.setCurrentUser,n=Object(a.useState)({username:"",password:""}),c=Object(r.a)(n,2),s=c[0],u=c[1],o=Object(a.useState)(null),l=Object(r.a)(o,2),p=l[0],d=l[1],f=function(e){u(Object(b.a)(Object(b.a)({},s),{},Object(h.a)({},e.target.name,e.target.value.trim())))},v=function(){var e=Object(x.a)(O.a.mark((function e(n){var r,a,c,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),d(null),r=s.username,a=s.password,r&&a){e.next=6;break}return d("Something's not right! Please check and try again."),e.abrupt("return");case 6:return e.prev=7,e.next=10,y(r,a);case 10:t({username:r,loggedIn:!0}),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(7),c=e.t0.name,i=e.t0.message,d(i),console.error(c,i);case 19:case 20:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{children:"Login"}),Object(j.jsxs)("form",{children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"username: "}),Object(j.jsx)("input",{type:"text",value:s.username,name:"username",onChange:f})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"password: "}),Object(j.jsx)("input",{type:"password",name:"password",onChange:f})]}),p&&Object(j.jsx)("p",{className:"error-message",children:p}),Object(j.jsx)("input",{type:"submit",value:"Log in",onClick:v})]}),Object(j.jsxs)("p",{children:["Need an account? Click ",Object(j.jsx)(i.b,{to:"/account/register",children:"here"})," to register."]})]})},V=function(e){var t=e.currentUser,n=Object(a.useState)([]),c=Object(r.a)(n,2),s=c[0],i=c[1],u=function(){var e=Object(x.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(t.username);case 3:n=e.sent,i(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();function o(e){var t=s.map((function(e){return e.name.toLowerCase()})),n=e.toLowerCase();return t.includes(n)}return Object(a.useEffect)((function(){u()}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{children:"My Routines:"}),Object(j.jsx)("p",{children:"Create and customize your personal routines here! It's up to you whether you make them public or keep them private. Be sure to add some activities once you've created a routine."}),Object(j.jsxs)("div",{id:"my-routines",children:[Object(j.jsx)(X,{fetchData:u,myRoutinesList:s,checkRoutineList:o}),Object(j.jsx)("h3",{children:"Existing Routines:"}),Object(j.jsx)("ul",{children:s.length>0&&s.map((function(e){var t=e.name,n=e.goal,r=e.creatorName,a=e.activities,c=e.isPublic,i=e.id;return Object(j.jsx)(ee,{fetchData:u,checkRoutineList:o,myRoutinesList:s,name:t,goal:n,creatorName:r,activities:a,isPublic:c,id:i},i)}))})]})]})},K=n(21),Q=function(e){var t=e.pendingActivities,n=e.setPendingActivities,c=e.routineActivities,s=e.errorMessage,i=e.setErrorMessage,u=e.id,o=Object(a.useState)([]),l=Object(r.a)(o,2),p=l[0],d=l[1],f=Object(a.useState)({routineId:u,activityId:null,count:0,duration:0,name:""}),v=Object(r.a)(f,2),m=v[0],g=v[1],y=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k();case 3:t=e.sent,d(t),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){y()}),[]);var w=function(e){i(null),g(Object(b.a)(Object(b.a)({},m),{},Object(h.a)({},e.target.name,Number(e.target.value))))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("select",{name:"activities-list",onChange:function(e){i(null);var n=e.target.value,r=e.target.options.selectedIndex,a=Number(e.target.options[r].getAttribute("data-key"));t.forEach((function(e){a!==e.activityId||i("You already queued up this activity!")})),c.forEach((function(e){a!==e.activityId||i("This activity is already part of your routine!")})),g(Object(b.a)(Object(b.a)({},m),{},{activityId:a,name:n}))},children:[Object(j.jsx)("option",{}),p?p.map((function(e){var t=e.id,n=e.name;return Object(j.jsx)("option",{"data-key":t,value:n,children:n},t)})):null]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"Count: "}),Object(j.jsx)("input",{type:"number",min:"0",name:"count",value:m.count,onChange:w})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"Duration (minutes): "}),Object(j.jsx)("input",{type:"number",min:"0",name:"duration",value:m.duration,onChange:w})]}),Object(j.jsx)("button",{disabled:!!s,onClick:function(e){if(e.preventDefault(),i(""),m.name)if(m.count<1||m.duration<1)i("Please set activity count and duration!");else{var r=function(e){var n=Object(K.a)(t);return n.push(e),n}(m);n(r)}else i("Please choose an activity to add to your routine!")},children:"Add activity"}),Object(j.jsx)("ul",{children:t.length>0?t.map((function(e){var r=e.name,a=e.count,c=e.duration,s=e.activityId;return Object(j.jsxs)("li",{children:[Object(j.jsx)("span",{className:"material-icons",onClick:function(){return function(e){for(var r=0;r<p.length;r++)if(t[r].activityId===e)return t.splice(r,1),void n(Object(K.a)(t))}(s)},children:"delete"})," ",r," (",a," ",a>1?"reps":"rep"," for ",c," ",c>1?"mins":"min",")"]},s)})):null})]})},X=function(e){var t=e.fetchData,n=e.checkRoutineList,c=Object(a.useState)({name:"",goal:"",isPublic:!1}),s=Object(r.a)(c,2),i=s[0],u=s[1],o=Object(a.useState)(null),l=Object(r.a)(o,2),p=l[0],d=l[1],f=function(e){u(Object(b.a)(Object(b.a)({},i),{},Object(h.a)({},e.target.name,e.target.value)))},v=function(e){var t;"true"==e.target.value?t=!0:"false"==e.target.value&&(t=!1),u(Object(b.a)(Object(b.a)({},i),{},{isPublic:t}))},m=function(){var e=Object(x.a)(O.a.mark((function e(r){var a,c,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),d(""),a=i.name,c=i.goal,s=i.isPublic,a&&c){e.next=6;break}return d("Both name and goal are required!"),e.abrupt("return");case 6:if(!n(a)){e.next=9;break}return d("This routine already exists! Please choose another name."),e.abrupt("return");case 9:return e.prev=9,e.next=12,D(a,c,s);case 12:u({name:"",goal:"",isPublic:!1}),t(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("form",{children:[Object(j.jsx)("h3",{children:"Create New Routine:"}),Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"Routine name: "}),Object(j.jsx)("input",{type:"text",name:"name",value:i.name,onChange:f})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"Routine goal: "}),Object(j.jsx)("input",{type:"text",name:"goal",value:i.goal,onChange:f})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"Share your routine?"}),Object(j.jsxs)("div",{className:"input-radio",children:[Object(j.jsx)("input",{type:"radio",name:"isPublic",value:"false",onChange:v,checked:!1===i.isPublic})," Private",Object(j.jsx)("input",{type:"radio",name:"isPublic",value:"true",onChange:v,checked:!0===i.isPublic})," Public"]})]}),p&&Object(j.jsx)("p",{className:"error-message",children:p}),Object(j.jsx)("input",{type:"submit",value:"Create routine",onClick:m})]})},Z=function(e){var t=e.fetchData,n=e.pendingActivities,c=e.setPendingActivities,s=e.checkRoutineList,i=e.setToggle,u=e.toggle,o=e.name,l=e.goal,p=e.isPublic,d=e.id,f={name:o,goal:l,isPublic:p},v=Object(a.useState)(Object(b.a)({},f)),m=Object(r.a)(v,2),g=m[0],y=m[1],w=Object(a.useState)([]),k=Object(r.a)(w,2),C=k[0],S=k[1],N=Object(a.useState)(null),P=Object(r.a)(N,2),I=P[0],E=P[1],A=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z(d);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return");case 6:S(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){A()}),[]);var T=function(e){y(Object(b.a)(Object(b.a)({},g),{},Object(h.a)({},e.target.name,e.target.value)))},R=function(e){var t;"true"==e.target.value?t=!0:"false"==e.target.value&&(t=!1),y(Object(b.a)(Object(b.a)({},g),{},{isPublic:t}))},D=function(){var e=Object(x.a)(O.a.mark((function e(r){var a,o,l;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),E(""),a=g.name,o=g.goal,l=g.isPublic,!s(a)||a===a){e.next=6;break}return E("This routine already exists! Please choose another name."),e.abrupt("return");case 6:if(e.prev=6,!(n.length>0)){e.next=10;break}return e.next=10,Promise.all(n.map((function(e){J(e.routineId,e.activityId,e.count,e.duration)})));case 10:return e.next=12,U(a,o,l,d);case 12:c([]),i(!u),t(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t);case 2:A();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("form",{children:[Object(j.jsx)("h3",{children:"Edit Routine:"}),Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"Routine name: "}),Object(j.jsx)("input",{type:"text",name:"name",value:g.name,onChange:T})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"Routine goal: "}),Object(j.jsx)("input",{type:"text",name:"goal",value:g.goal,onChange:T})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"Share your routine?"}),Object(j.jsxs)("div",{className:"input-radio",children:[Object(j.jsx)("input",{type:"radio",name:"isPublic",value:"false",onChange:R,checked:!1===g.isPublic})," Private",Object(j.jsx)("input",{type:"radio",name:"isPublic",value:"true",onChange:R,checked:!0===g.isPublic})," Public"]})]}),Object(j.jsx)("ul",{children:C.length>0?C.map((function(e){var t=e.name,n=e.count,r=e.duration,a=e.routineActivityId;return Object(j.jsxs)("li",{children:[Object(j.jsx)("span",{className:"material-icons",onClick:function(){return L(a)},children:"delete"})," ",t," (",n," ",n>1?"reps":"rep"," for ",r," ",r>1?"mins":"min",")"]},a)})):null}),Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"Add activities to your routine: "}),Object(j.jsx)(Q,{id:d,pendingActivities:n,setPendingActivities:c,routineActivities:C,errorMessage:I,setErrorMessage:E})]}),I&&Object(j.jsx)("p",{className:"error-message",children:I}),Object(j.jsx)("input",{type:"submit",value:"Update routine",disabled:!!I,onClick:D}),Object(j.jsx)("input",{type:"button",value:"Cancel",onClick:function(){i(!u),y(Object(b.a)({},f)),c([]),t()}})]})},ee=function(e){var t=e.fetchData,n=e.checkRoutineList,c=e.name,s=e.goal,i=e.creatorName,u=e.activities,o=e.isPublic,l=e.id,p=Object(a.useState)(!1),h=Object(r.a)(p,2),b=h[0],d=h[1],f=Object(a.useState)([]),v=Object(r.a)(f,2),m=v[0],g=v[1],y=function(){var e=Object(x.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(n);case 3:e.sent,t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:b?Object(j.jsx)(Z,{fetchData:t,pendingActivities:m,setPendingActivities:g,checkRoutineList:n,toggle:b,setToggle:d,name:c,goal:s,creatorName:i,isPublic:o,id:l}):Object(j.jsxs)("div",{className:"card routine",children:[Object(j.jsxs)("h3",{children:["Routine: ",Object(j.jsx)("span",{className:"name",children:c})]}),Object(j.jsxs)("p",{children:["Goal: ",s]}),u.length>0&&Object(j.jsxs)("div",{className:"routine-activities",children:[Object(j.jsx)("p",{children:"Activities: "}),Object(j.jsx)("ul",{children:u.map((function(e){var t=e.name,n=e.description,r=e.count,a=e.duration,c=e.routineActivityId;return Object(j.jsxs)("li",{children:[Object(j.jsxs)("span",{className:"name",children:[t,": "]}),Object(j.jsxs)("span",{className:"description",children:[n," "]}),"(",r," ",r>1?"reps":"rep"," for ",a," ",a>1?"mins":"min",")"]},c)}))})]}),Object(j.jsxs)("p",{children:["Status: ",o?Object(j.jsx)("span",{children:"public"}):Object(j.jsx)("span",{children:"private"})]}),Object(j.jsxs)("p",{children:["Created by: ",i]}),Object(j.jsx)("span",{className:"material-icons",onClick:function(){return y(l)},children:"delete"}),Object(j.jsx)("span",{className:"material-icons",onClick:function(){d(!b)},children:"edit"})]},l)})},te=function(e){var t=e.setCurrentUser,n=Object(a.useState)({username:"",password:"",passwordCheck:""}),c=Object(r.a)(n,2),s=c[0],u=c[1],o=Object(a.useState)(),l=Object(r.a)(o,2),p=l[0],d=l[1],f=function(e){u(Object(b.a)(Object(b.a)({},s),{},Object(h.a)({},e.target.name,e.target.value.trim())))},v=function(){var e=s.username,t=s.password,n=s.passwordCheck;return!(e.length<6)&&!!function(e,t){var n=["$","!","@","#"];if(e.length<8)return!1;if(e!==t)return!1;for(var r=0;r<n.length;r++)for(var a=0;a<e.length;a++)if(n[r]===e[a])return!0;return!1}(t,n)},g=function(){var e=Object(x.a)(O.a.mark((function e(n){var r,a,c,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),d(null),r=s.username,a=s.password,e.prev=3,v()){e.next=9;break}return d("Something's not right! Please check and try again."),e.abrupt("return");case 9:return e.next=11,m(r,a);case 11:t({username:r,loggedIn:!0});case 12:e.next=21;break;case 15:e.prev=15,e.t0=e.catch(3),c=e.t0.name,i=e.t0.message,d(i),console.error(c,i);case 21:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{children:"Create an account"}),Object(j.jsxs)("form",{children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"username: "}),Object(j.jsx)("input",{type:"text",value:s.username,name:"username",onChange:f}),Object(j.jsx)("span",{className:"note",children:"Create a username at least 6 characters long."})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"password: "}),Object(j.jsx)("input",{type:"password",name:"password",onChange:f})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"retype password: "}),Object(j.jsx)("input",{type:"password",name:"passwordCheck",onChange:f}),Object(j.jsx)("span",{className:"note",children:"Create a password at least 8 characters long and include at least 1 of the following special characters: ( $ ! @ # )."})]}),p&&Object(j.jsx)("p",{className:"error-message",children:p}),Object(j.jsx)("input",{type:"submit",value:"Submit",onClick:g})]}),Object(j.jsxs)("p",{children:["Already have an account? Click ",Object(j.jsx)(i.b,{to:"/account/login",children:"here"})," to log in."]})]})},ne=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],s=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E();case 3:t=e.sent,c(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){s()}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{id:"routines",children:[Object(j.jsx)("h2",{children:"All Routines:"}),Object(j.jsx)("p",{children:"Welcome to Fitness Trac.kr routines! This is where activities work together so you can workout better."}),n.length>0&&n.map((function(e){var t=e.name,n=e.goal,r=e.creatorName,a=e.activities,c=e.id;return Object(j.jsxs)("div",{className:"card routine",children:[Object(j.jsxs)("h3",{children:["Routine: ",Object(j.jsx)("span",{className:"name",children:t})]}),Object(j.jsxs)("p",{children:["Goal: ",n]}),Object(j.jsxs)("div",{className:"routine-activities",children:[Object(j.jsx)("p",{children:"Activities: "}),Object(j.jsx)("ul",{children:a.length>0&&a.map((function(e){var t=e.name,n=e.description,r=e.count,a=e.duration,c=e.routineActivityId;return Object(j.jsxs)("li",{children:[t,": ",n," | ",Object(j.jsxs)("span",{className:"count",children:["Count: ",r]})," | ",Object(j.jsxs)("span",{className:"duration",children:["Duration: ",a]})]},c)}))})]}),Object(j.jsxs)("p",{children:["Created by: ",r]})]},c)}))]})})},re=function(){var e=Object(a.useState)({username:function(){if(o()){var e=o();return e.hasOwnProperty("username")?e.username:""}return""}(),loggedIn:!!l()}),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)("h1",{children:"Fitness Trac.kr"}),Object(j.jsxs)(i.a,{children:[Object(j.jsxs)("nav",{children:[Object(j.jsx)(i.b,{to:"/",children:"Home"}),Object(j.jsx)(i.b,{to:"/routines",children:"Routines"}),n.loggedIn?Object(j.jsx)(i.b,{to:"/my-routines",children:"My Routines"}):null,Object(j.jsx)(i.b,{to:"/activities",children:"Activities"}),Object(j.jsx)(i.b,{to:n.loggedIn?"/account":"/account/login",children:"Account"})]}),Object(j.jsxs)(u.c,{children:[Object(j.jsx)(u.a,{path:"/routines",children:Object(j.jsx)(ne,{})}),Object(j.jsx)(u.a,{path:"/my-routines",children:Object(j.jsx)(V,{currentUser:n})}),Object(j.jsx)(u.a,{path:"/activities",children:Object(j.jsx)(Y,{currentUser:n})}),Object(j.jsx)(u.a,{path:"/account",children:Object(j.jsx)(p,{currentUser:n,setCurrentUser:c})}),Object(j.jsx)(u.a,{path:"/",children:Object(j.jsx)(H,{})})]})]})]})};s.a.render(Object(j.jsx)(re,{}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.df74f697.chunk.js.map